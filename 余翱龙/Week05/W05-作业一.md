# 客服工作台FAQ模块：后端与算法开发协作要点文档

## 一、功能概述

本项目包含两大核心模块：**FAQ类目管理**与**FAQ条目管理**。类目支持两级结构，FAQ条目关联至二级类目，包含待选提问、相似提问、生效时间、对应回答等字段。

---

## 二、后端开发职责

### 1. 数据建模与接口设计
- **类目表**：id、父级id、名称、层级、排序、状态、时间戳
- **FAQ表**：id、类目id、标准问题、答案、生效起始/结束时间、创建人、状态
- **相似问表**：id、faq_id、相似问题文本、权重（可选）
- 提供类目CRUD、FAQ增删改查、类目树结构查询、FAQ列表分页等接口
- 设计生效时间校验逻辑：仅生效期内FAQ可被检索/展示

### 2. 算法联动接口
- 为算法提供**FAQ知识库导出接口**：返回全量生效中FAQ及其相似问，用于模型训练/更新
- 提供**实时问答接口**：接收用户提问，调用算法服务获取匹配FAQ，返回答案
- 设计**算法反馈闭环**：记录用户对答案的点赞/点踩，定期输出badcase供算法优化

### 3. 工程保障
- 接口鉴权、操作日志、数据备份
- 类目删除时校验是否有关联FAQ
- 生效时间支持长期有效与定时上下线

---

## 三、算法开发职责

### 1. 问答匹配模型
- 基于FAQ库训练**语义匹配模型**（如SimCSE、Sentence-BERT）
- 支持**多相似问召回**，提升长尾问题覆盖率
- 模型定期增量更新，适配FAQ新增与下架

### 2. 检索服务
- 构建**FAQ向量索引**（如Faiss、Milvus），支持高并发实时检索
- 实现**召回+排序**两阶段：向量召回 + 精排模型/规则干预
- 兼容**关键词匹配**兜底，处理OOV问题

### 3. 算法接口封装
- 提供RPC/HTTP接口，输入用户问题，输出匹配FAQ及置信度
- 支持**阈值过滤**，低于阈值时走兜底回复或转人工
- 记录每次请求的输入、输出、置信度，支持离线分析

### 4. 效果评估
- 定期评估模型准确率、召回率、响应耗时
- 配合后端反馈数据（点赞/点踩）进行badcase分析
- 提供可视化报表或数据导出资助迭代决策

---

## 四、关键协作节点

| 节点       | 后端         | 算法         | 协作产出       |
| ---------- | ------------ | ------------ | -------------- |
| 知识库导出 | 提供导出接口 | 定义数据格式 | FAQ数据集      |
| 上线发布   | 发布FAQ接口  | 发布检索服务 | 可测试联调环境 |
| 效果反馈   | 埋点采集     | 提供badcase  | 模型迭代版本   |

---

## 五、总结

- **后端**负责**数据的增删改查与业务闭环**，是系统的骨架和可信数据源；
- **算法**负责**语义理解与匹配能力**，是系统的智力和体验核心；
- 双方通过**明确的接口约定**（知识库导出、实时问答、反馈回流）形成闭环，共同支撑智能客服工作台的高效运转。